GCC=go
GCMD=run
GPATH=main.go

POSTGRES_HOST=localhost
POSTGRES_PORT=54321
POSTGRES_USER=cms
POSTGRES_PASSWORD=cms
POSTGRES_DB=cms

dockers:
	cd docker; docker-compose up

golang:
	cd server; ${GCC} ${GCMD} ${GPATH} -POSTGRES_HOST=${POSTGRES_HOST} -POSTGRES_PORT=${POSTGRES_PORT} -POSTGRES_USER=${POSTGRES_USER} -POSTGRES_PASSWORD=${POSTGRES_PASSWORD} -POSTGRES_DB=${POSTGRES_DB} -DOMAIN=${DOMAIN}

react:
	cd client; yarn run dev

run:
	make docker & make golang & make react
